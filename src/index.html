<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Zolyx</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #000;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    font-family: monospace;
    color: #d7d700;
  }
  canvas {
    image-rendering: pixelated;
    image-rendering: crisp-edges;
  }
  #info {
    color: #aaa;
    font-size: 13px;
    margin-top: 12px;
    text-align: center;
    line-height: 1.6;
  }
  #info b { color: #fff; }
</style>
</head>
<body>
<canvas id="game"></canvas>
<div id="info">
  <b>Arrows</b> = Move &nbsp; <b>Space</b> = Fire (start drawing / slow mode while drawing)<br>
  Claim <b>75%</b> of the field to complete a level. Avoid chasers, sparks, and the trail cursor!
</div>
<script>
  var NATIVE_W = 256;
  var NATIVE_H = 192;
  var PADDING = 40;
  var INFO_GAP = 12;
  var INFO_FALLBACK_H = 60;
  var MIN_SCALE = 1;

  function scaleCanvas() {
    var c = document.getElementById("game");
    var info = document.getElementById("info");
    var infoH = info ? info.offsetHeight + INFO_GAP : INFO_FALLBACK_H;
    var s = Math.max(MIN_SCALE, Math.min(
      Math.floor((window.innerWidth - PADDING) / NATIVE_W),
      Math.floor((window.innerHeight - infoH - PADDING) / NATIVE_H)
    ));
    c.style.width = (NATIVE_W * s) + "px";
    c.style.height = (NATIVE_H * s) + "px";
  }
  scaleCanvas();
  window.addEventListener("resize", scaleCanvas);
</script>
<script type="module" src="./main.ts"></script>
</body>
</html>
