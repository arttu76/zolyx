<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Zolyx</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #000;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    font-family: monospace;
    color: #d7d700;
  }
  canvas {
    image-rendering: pixelated;
    image-rendering: crisp-edges;
    width: 768px;
    height: 576px;
  }
  #info {
    color: #aaa;
    font-size: 13px;
    margin-top: 12px;
    text-align: center;
    line-height: 1.6;
  }
  #info b { color: #fff; }
</style>
  <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();const C=2,S=125,p=18,h=93,R=0,q=1,F=2,H=3,P=[1,1,0,-1,-1,-1,0,1],E=[0,1,1,1,0,-1,-1,-1],gA=396,tA=90,yA=75,aA=3,sA=176,$=14,BA=72,mA=50,Q=2,wA=[{x:29,y:33},{x:61,y:33},{x:93,y:33},{x:29,y:53},{x:93,y:53},{x:29,y:73},{x:61,y:73},{x:93,y:73}],CA=[64,24,162,90,186,189,253,255,255,255,255,255,255,255,255,255],pA=[128,128,128,128,128,128,192,192,192,192,192,192,192,192,192,192],AA=[112,104,88,96,104,120,104,112,96,88,120,104,112,80,88,104],DA=["#000000","#0000FF","#FF0000","#FF00FF","#00FF00","#00FFFF","#FFFF00","#FFFFFF"],FA=[{x:64,y:18,dir:0},{x:64,y:93,dir:4}],v=256,b=192,D=32,U=24,vA=[[0,0],[85,0],[170,85],[255,255]],PA=50,G=new Uint8Array(v*b),O=new Uint8Array(D*U);let M=null,_=null,J=null;function EA(){M=document.getElementById("game"),M.width=v,M.height=b,_=M.getContext("2d"),J=_.createImageData(v,b)}function xA(){if(!_)throw new Error("Screen not initialized — call initScreen() first");return _}function IA(){if(!J)throw new Error("Screen not initialized — call initScreen() first");return J}const SA="AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAL/wAAAAB///4AAAAAAPw/4AAAAA////qAAD/A6AAAAAAD/4AAH/qAD/4AAP+oAAAAP//v/r/6gA/3Qfz6AAAAAAAP/gP/qAAAH/v/qAAAAAAAH/qAf+gH///8fvoAAAAAAAAH//gAAAA//+AAAAAAAAf+oAA/+AP///h++gAAAAAAB/6gAAAAAAAD/4AAAAAB/6gAAAf+gAAAAfn+gf/qgAr/qAAAAAAAAAAf+gAAAA/+gAAAAAP/////Kf6oAAAAPqB+AAAAAAAAAAB/4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//AAAHAAAAAAP/AAAAA/8f/gAAAAAPAB/wAAAB////AAAAP9OAAAAAAA/8AAB/4AAf+AAH/AAAAAAAAH/wf+AA/+AD88AAAAAAAB/4H/gAAAB///gAAAAAAAD/wAH/gB////H74AAAAAAAAD/wAAAAA///gAAAAAAAP/AAAP/AB///wfvwAAAAAAA/8AAAAAAAAA/+AAAAAAf+AAAAD/wAAAAP5/g//AAAB/8AAAAAAAAAAD/wAAAAf+AAAAAAA/////AHgAAAAAH4APwAAAAAAAAAAP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///AAD4AAAAAB/4AAAAf+q/8AAAAAfiAP/gAAB////qgAAB+DoAAAAAAH/oAA/+gAD/4AH/qAAAAACqr/6v/oAf/tA/PoAAAAAAAP/j/6gAAAP//6gAAAAAAB/6gB/6Af///x++gAAAAAAAB/6qgAAB///+AAAAAAAD/6AAD/6Af//8H7+AAAAAAAP/oAAAAAAAAH/oAAAAAP/oAAAAf+AAAAH+f6/+qgAA//gAAAAAAAAAAf+AAAAH/qAAAAAAD////qhqoAAAAB+gD+AAAAAAAAAAB/4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD////AA8AAAAAAf+AAAAH/gH/AAAAA/wAAf/AAD////wAAEAP04AAAAAAA/8AAP/AAAf+AD/wAAAAAAAD/4D/wAP/4YP7wAAAAAAAA///4AAAAB//4AAAAAAAA/8AAf+AH///8fvgAAAAAAAA/8AAAB//8P/gAAAAAAB/4AAAf+AD//eB+/AAAB/8AH/gAAAAAAAAA/8AAAAAD/wAAAAD/wAAAD/H//+AAAAfz4AAAAAAAAAAD/gAAAB/4AAAAAAAD//8AAAAAAAAAfgA/AAAAAAAAAAAP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/AAAAAAAAAAAAAAAAAAP/////+AHoAAAAAD/4AAAD/6B/6AAAA/6gAD////////6gAAkD8OgAAAAAAH/gAH/qAAD/oB/6gAAAAAAB/6o/+gH/+3D++gAAAAAAAD//+oAAAAP/+oAAAAAAAP/oAH/oB///hH76AAAAAAAAf+oAAAD/6r/6AAAAAAA/+oAAH/oAf/jA/P6AAH///5/6gAAAAAAAAH/gAAAAB/6gAAAAf/AAAB/x//+qAAAP6/gAAAAAAAAAA/+AAAA/+gAAAAAAAqqqqgAgAAAAAH6AP6AAAAAAAAAAA/4AAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAD/AAAAAAAAAPAAAAAAAAP//+AD/5BwAAAAAAf+AAAB/4AP/AAAA/4AAAH//////f+AAAAgfzwAAAAAAA/8AD/wAAA/8B/8AAAAAAAB/8AP/AB//hwfvgAAAAAAAAP/+AAAAAH/+AAAAAAAAH/gAB/4Af//7R++AAAAAAAAP/AAAAAH4AP/AAAAAAAf+AAAA/8AD/5APz8AAP/z///4AAAAAAAAAB/4AAAAAf+AAAAAD/8AAB/4//8AAAAH4D4AAAAAAAAAAH/AAAAP/AAAAAAAAAAAAAAAAAAAAB+AD8AAAAAAAAAAAD/AAAAAAAAAAAAAAAAAACAAAAAf/AAAAAA//6gAAAAAAAB/gAAAAAAf//+qqv/AegAAAAAD/4AAAf+oB/4AAA/6oAAA////v/v/oAABoH4+AAAAAAAH/gA/+gAAH/g/+oAAAAAAA/+oH/qA//7eH76AAAAAAAAA//qAAAAD/+qAAAAAAAD/6gAf+gH///EfvoAAAAAAAH/qAAAAAqoD/4AAAAAAH/qAAAP/gAP9AD8/oAP/qr//+oAAAAAAAAAP/gAAAAP/oAAAAAf/gAA/9P/6qAAAB+oegAAAAAAAAAA/6AAAH/qAAAAAAAAAAAAAAAAAAAAfoA/oAAAAAAAAAAAP8AAAAAAAAAAA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RUdHR0dHRUVHR0VFRUZGRkVFRUVFRUVFRUdHR0dHRUdFRUdHR0VFRUdHRUVFRUdFRUVFRUVFRUVFRUdHR0dHR0VFRUdHRUVFR0dHR0VFRUVFRUVHR0dFRUVFR0dHR0dHR0VFRUdFRUdFRUVFR0dHR0dHR0dHR0VFRUVHR0dHR0dHR0dFRUVFRUVFR0dGRkZGR0dHR0dHR0dHR0dGR0dHR0dHR0dFRUVFR0dHR0ZGRkZHR0dHR0dHR0dGRkZGR0dHR0dHR0VFRUdHR0dHRkZGRkdHR0dHR0dHR0ZGRkZHR0dHR0dHRUVFR0dHR0dGRkZGRkdHR0dHR0dHR0ZHR0dHR0dHR0dFRUdHR0ZGRkdHR0ZGR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHRkZGR0RER0dHRERER0dHR0dHR0dHR0dHR0dHR0dHR0ZGRkZGRERERERERERHR0dHR0dHR0dHR0dHR0dHR0dHRkZGRkdHRERERERER0dHR0dHR0dCQkJCQkJCR0dHR0dGRkZGR0RERERHR0dHR0dHR0dHR0JCQkJCQkJHR0dHR0ZGRkdHRERHR0dHR0dHR0dHR0dHQkJCQkJCQkdHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHBQUFBQUFBUcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcH",e={grid:[],player:{x:C,y:p,dir:0,axisH:!1,drawing:!1,fastMode:!1,fillComplete:!1,drawStartX:0,drawStartY:0},trailBuffer:[],trailFrameCounter:0,chasers:[],sparks:[],trailCursor:{x:0,y:0,active:!1,bufferIndex:0},score:0,lives:aA,level:0,timer:sA,timerSub:$,frameCounter:0,percentage:0,rawPercentage:0,fieldColor:"#FFFF00",gameOver:!1,gameOverOutOfTime:!1,gameOverFrame:0,levelComplete:!1,lcAnim:{active:!1,phase:0,frame:0,timerCountdown:0,subFrame:0},collision:!1,timerExpired:!1,paused:!1,deathAnimTimer:0,startScreen:!0,keys:{up:!1,down:!1,left:!1,right:!1,fire:!1},loadingScrData:null};function hA(){const A=[];for(let t=0;t<128;t++){A[t]=[];for(let r=0;r<128;r++)A[t][r]=R}for(let t=C;t<=S;t++)A[p][t]=H;for(let t=C;t<=S;t++)A[h][t]=H;for(let t=p;t<=h;t++)A[t][C]=H;for(let t=p;t<=h;t++)A[t][S]=H;e.grid=A}function g(A,t){return A<0||A>=128||t<0||t>=128?H:e.grid[t][A]}function V(A,t,r){A>=0&&A<128&&t>=0&&t<128&&(e.grid[t][A]=r)}function UA(){let A=0;for(let t=p;t<=h;t++)for(let r=C;r<=S;r++)e.grid[t][r]!==R&&A++;return A}function OA(){let A=0;for(let t=p;t<=h;t++)for(let r=C;r<=S;r++)e.grid[t][r]===q&&A++;return A}function eA(){const A=OA();e.rawPercentage=Math.floor(A/tA);const t=UA();e.percentage=Math.floor((t-gA)/tA),e.percentage>=yA&&(e.levelComplete=!0)}function bA(){return e.score+(e.rawPercentage+e.percentage)*4}function VA(){return AA[e.level&15]>>3&7}function Z(){return Math.floor(Math.random()*256)}function TA(A){const r=AA[A&15]>>3&7;return DA[r]}function rA(){e.level=0,e.score=0,e.lives=aA,e.gameOver=!1,e.gameOverOutOfTime=!1,e.gameOverFrame=0,cA()}function cA(){e.timer=sA,e.timerSub=$,e.frameCounter=0,e.trailFrameCounter=0,e.levelComplete=!1,e.collision=!1,e.timerExpired=!1,e.deathAnimTimer=0,e.fieldColor=TA(e.level),hA(),e.player.x=C,e.player.y=p,e.player.dir=0,e.player.axisH=!1,e.player.drawing=!1,e.player.fastMode=!1,e.player.fillComplete=!1,e.player.drawStartX=0,e.player.drawStartY=0,e.trailBuffer=[],e.trailCursor={x:0,y:0,active:!1,bufferIndex:0},dA(),uA(),eA()}function dA(){const A=[],t=Math.min(e.level,15),r=CA[t];for(let o=0;o<8;o++){const n=(Z()&3)*2+1,i=128>>o;if((r&i)!==0){const f=wA[o],a=f.x+(Z()&7),c=f.y+(Z()&7)*2;A.push({x:a,y:c,dir:n,active:!0})}else A.push({x:0,y:0,dir:n,active:!1})}e.sparks=A}function uA(){const A=Math.min(e.level,15),t=pA[A],r=[];for(let o=0;o<2;o++){const n=128>>o;if((t&n)!==0){const l=FA[o];r.push({x:l.x,y:l.y,dir:l.dir,active:!0,wallSide:0})}else r.push({x:0,y:0,dir:0,active:!1,wallSide:0})}e.chasers=r}function kA(){let A=0;return e.keys.fire&&(A|=1),e.keys.down&&(A|=2),e.keys.up&&(A|=4),e.keys.right&&(A|=8),e.keys.left&&(A|=16),A}function qA(){document.addEventListener("keydown",A=>{switch(A.key){case"ArrowUp":e.keys.up=!0,A.preventDefault();break;case"ArrowDown":e.keys.down=!0,A.preventDefault();break;case"ArrowLeft":e.keys.left=!0,A.preventDefault();break;case"ArrowRight":e.keys.right=!0,A.preventDefault();break;case" ":e.keys.fire=!0,A.preventDefault();break;case"p":case"P":e.paused=!e.paused;break;case"Enter":e.startScreen?(e.startScreen=!1,rA()):e.gameOver&&(rA(),e.startScreen=!1);break}}),document.addEventListener("keyup",A=>{switch(A.key){case"ArrowUp":e.keys.up=!1;break;case"ArrowDown":e.keys.down=!1;break;case"ArrowLeft":e.keys.left=!1;break;case"ArrowRight":e.keys.right=!1;break;case" ":e.keys.fire=!1;break}})}function LA(A,t,r){const o=A&24;if(o===0||o===24)return null;let n=t,i=0;return A&16&&(n=t-1,i=4),A&8&&(n=t+1,i=0),n<C&&(n=C),n>S&&(n=S),n===t?null:{x:n,y:r,dir:i}}function QA(A,t,r){const o=A&6;if(o===0||o===6)return null;let n=r,i=0;return A&4&&(n=r-1,i=6),A&2&&(n=r+1,i=2),n<p&&(n=p),n>h&&(n=h),n===r?null:{x:t,y:n,dir:i}}function oA(A,t){const r={moved:!1,startDraw:!1,endDraw:!1};if(!A)return r;const o=g(A.x,A.y);return e.player.drawing?o===R?(e.player.x=A.x,e.player.y=A.y,e.player.dir=A.dir,e.player.axisH=A.dir===0||A.dir===4,V(A.x,A.y,F),e.trailBuffer.push({x:A.x,y:A.y,dir:A.dir}),r.moved=!0,r):(o===H&&(e.player.x=A.x,e.player.y=A.y,e.player.dir=A.dir,e.player.drawing=!1,e.player.fillComplete=!0,r.moved=!0,r.endDraw=!0),r):o===H?(e.player.x=A.x,e.player.y=A.y,e.player.dir=A.dir,e.player.axisH=A.dir===0||A.dir===4,r.moved=!0,r):(o===R&&e.keys.fire&&(e.player.drawStartX=e.player.x,e.player.drawStartY=e.player.y,e.player.drawing=!0,e.player.fastMode=!0,e.player.axisH=A.dir===0||A.dir===4,e.player.x=A.x,e.player.y=A.y,e.player.dir=A.dir,V(A.x,A.y,F),e.trailBuffer.push({x:A.x,y:A.y,dir:A.dir}),e.trailFrameCounter=1,r.moved=!0,r.startDraw=!0),r)}function MA(){const A=kA();if(e.player.drawing&&(A&1||(e.player.fastMode=!1),e.player.fastMode&&e.frameCounter&1)){e.trailFrameCounter++,nA();return}const t=LA(A,e.player.x,e.player.y),r=QA(A,e.player.x,e.player.y);let o,n;e.player.drawing?e.player.axisH?(o=t,n=r):(o=r,n=t):e.player.axisH?(o=r,n=t):(o=t,n=r);let i=oA(o);i.moved||(i=oA(n)),e.player.drawing&&(e.trailFrameCounter++,nA())}function nA(){e.trailFrameCounter>=BA&&!e.trailCursor.active&&e.trailBuffer.length>0&&(e.trailCursor.active=!0,e.trailCursor.bufferIndex=0,e.trailCursor.x=e.trailBuffer[0].x,e.trailCursor.y=e.trailBuffer[0].y)}function _A(){if(e.trailBuffer.length===0)return;for(const o of e.trailBuffer)V(o.x,o.y,H);const A=e.trailBuffer[0].dir,t=e.player.dir;let r=A!==t;if(!r){for(let o=1;o<e.trailBuffer.length;o++)if(e.trailBuffer[o].dir!==A){r=!0;break}}if(r){let o=0,n=e.trailBuffer[0].dir;for(let f=1;f<e.trailBuffer.length;f++){let a=e.trailBuffer[f].dir-n;a===6?a=-2:a===-6&&(a=2),o+=a,n=e.trailBuffer[f].dir}let i=t-n;i===6?i=-2:i===-6&&(i=2),o+=i;const l=o>=0?2:-2;for(const f of e.trailBuffer){const a=f.dir+l&7,c=f.x+P[a],s=f.y+E[a];g(c,s)===R&&Y(c,s,q)}}else if(A===2||A===6){const i=e.trailBuffer[0].x<63?-1:1;for(const l of e.trailBuffer)if(l.dir===A){const f=l.x+i,a=l.y;g(f,a)===R&&Y(f,a,q)}}else{const i=e.trailBuffer[0].y<55?-1:1;for(const l of e.trailBuffer)if(l.dir===A){const f=l.x,a=l.y+i;g(f,a)===R&&Y(f,a,q)}}e.trailBuffer=[],e.trailFrameCounter=0,e.trailCursor={x:0,y:0,active:!1,bufferIndex:0},eA()}function Y(A,t,r){if(g(A,t)!==R)return;const o=[[A,t]];for(V(A,t,r);o.length>0;){const[n,i]=o.pop(),l=[[n-1,i],[n+1,i],[n,i-1],[n,i+1]];for(const[f,a]of l)g(f,a)===R&&(V(f,a,r),o.push([f,a]))}}function GA(){const A=e.player.x,t=e.player.y;for(const r of e.chasers)if(r.active&&Math.abs(t-r.y)<Q&&Math.abs(A-r.x)<Q)return!0;return!!(e.trailCursor.active&&Math.abs(t-e.trailCursor.y)<Q&&Math.abs(A-e.trailCursor.x)<Q)}function NA(){for(const A of e.sparks)if(A.active&&g(A.x,A.y)===F)return!0;for(const A of e.chasers)if(A.active&&g(A.x,A.y)===F)return!0;return!1}function ZA(A){if(!A.active)return;const t=A.dir+6&7,r=A.dir,o=A.dir+2&7,n=g(A.x+P[t],A.y+E[t]),i=g(A.x+P[r],A.y+E[r]),l=g(A.x+P[o],A.y+E[o]),f=n===F?R:n,a=i===F?R:i,c=l===F?R:l;f!==H&&(c===R?A.wallSide=0:c!==H&&(A.wallSide=1));let s;A.wallSide===0?c===H?s=2:a===H?s=0:f===H?s=-2:s=-4:f===H?s=-2:a===H?s=0:c===H?s=2:s=-4,A.dir=A.dir+s+8&7,A.x+=P[A.dir],A.y+=E[A.dir]}function YA(A){if(!A.active)return;const t=g(A.x,A.y);if(t===q){X(A);return}if(t===F){e.collision=!0,X(A);return}const r=A.x+P[A.dir],o=A.y+E[A.dir],n=g(r,o);if(n===R||n===F){A.x=r,A.y=o;return}if(n===H){const i=A.dir+2&7,l=A.x+P[i],f=A.y+E[i];if(g(l,f)===R){A.dir=i,A.x=l,A.y=f;return}const a=A.dir+6&7,c=A.x+P[a],s=A.y+E[a];if(g(c,s)===R){A.dir=a,A.x=c,A.y=s;return}const u=A.dir+4&7,d=A.x+P[u],y=A.y+E[u];if(g(d,y)===R){A.dir=u,A.x=d,A.y=y;return}return}X(A)}function X(A){A.active=!1,A.x=0,A.y=0,e.score+=mA}function XA(){if(!e.trailCursor.active)return;const A=e.trailCursor.bufferIndex+2;if(A>=e.trailBuffer.length){e.collision=!0;return}e.trailCursor.bufferIndex=A;const t=e.trailBuffer[A];e.trailCursor.x=t.x,e.trailCursor.y=t.y}function iA(){for(const A of e.trailBuffer)g(A.x,A.y)===F&&V(A.x,A.y,R);if(e.trailBuffer=[],e.trailFrameCounter=0,e.trailCursor={x:0,y:0,active:!1,bufferIndex:0},e.player.drawing=!1,e.player.fillComplete=!1,e.lives--,e.lives<=0){e.gameOver=!0,e.gameOverFrame=0;return}e.player.x=C,e.player.y=p,e.player.dir=0,e.player.axisH=!1,uA(),dA(),e.collision=!1,e.timerExpired=!1,e.deathAnimTimer=30}function KA(){e.score+=(e.rawPercentage+e.percentage)*4,e.rawPercentage=0,e.percentage=0,e.lcAnim.active=!0,e.lcAnim.phase=0,e.lcAnim.frame=0,e.lcAnim.timerCountdown=e.timer,e.lcAnim.subFrame=0}function WA(){const A=e.lcAnim;switch(A.frame++,A.phase){case 0:A.frame>=32&&(A.phase=1,A.frame=0,A.subFrame=0);break;case 1:if(A.timerCountdown<=0){A.phase=2,A.frame=0;break}A.subFrame++,A.subFrame>=2&&(A.subFrame=0,A.timerCountdown--,e.timer--,e.score++);break;case 2:A.frame>=50&&(A.phase=3);break;case 3:A.active=!1,e.levelComplete=!1,e.level++,cA();break}}function zA(){if(!(e.startScreen||e.paused)){if(e.gameOver){e.gameOverFrame++;return}if(e.lcAnim.active){WA();return}if(e.deathAnimTimer>0){e.deathAnimTimer--;return}e.frameCounter++,MA(),e.player.fillComplete&&(e.player.fillComplete=!1,_A()),e.player.drawing&&NA()&&(e.collision=!0);for(const A of e.chasers)ZA(A);for(const A of e.sparks)YA(A);if(XA(),GA()&&(e.collision=!0),e.timerSub--,e.timerSub<=0&&(e.timerSub=$,e.timer--,e.timer<=0&&(e.timer=0,e.timerExpired=!0)),eA(),e.timerExpired){e.gameOverOutOfTime=!0,iA(),e.timerExpired=!1;return}if(e.collision){e.gameOverOutOfTime=!1,iA(),e.collision=!1;return}if(e.levelComplete){KA();return}}}function w(A,t,r){A>=0&&A<v&&t>=0&&t<b&&(G[t*v+A]=r)}function m(A,t,r,o,n){for(let i=t;i<t+o;i++)for(let l=A;l<A+r;l++)w(l,i,n)}function JA(A){for(let t=0;t<b;t++){const r=t>>6,o=t&7,n=t>>3&7,i=r*2048+o*256+n*32,l=t*v;for(let f=0;f<32;f++){const a=A[i+f],c=f*8;for(let s=0;s<8;s++)G[l+c+s]=a>>7-s&1}}for(let t=0;t<768;t++)O[t]=A[6144+t]}function RA(A,t,r){A>=0&&A<D&&t>=0&&t<U&&(O[t*D+A]=r)}function x(A,t,r){return(A?1:0)<<6|(t&7)<<3|r&7}function I(A,t,r,o){for(let n=0;n<r;n++)RA(t+n,A,o)}function T(A,t){I(A,0,D,t)}const jA=new Uint8Array([0,0,0,0,0,0,0,0,96,96,96,96,96,0,96,0,108,108,108,0,0,0,0,0,54,54,127,54,127,54,54,0,24,62,88,60,26,124,24,0,0,99,102,12,24,51,99,0,28,54,28,59,110,102,59,0,48,48,96,0,0,0,0,0,24,48,96,96,96,48,24,0,96,48,24,24,24,48,96,0,0,54,28,127,28,54,0,0,0,24,24,126,24,24,0,0,0,0,0,0,0,48,48,96,0,0,0,126,0,0,0,0,0,0,0,0,0,96,96,0,3,6,12,24,48,96,64,0,62,99,103,107,115,99,62,0,48,112,48,48,48,48,120,0,60,102,6,60,96,96,126,0,60,102,6,28,6,102,60,0,14,30,54,102,127,6,6,0,126,96,96,124,6,102,60,0,60,102,96,124,102,102,60,0,126,6,6,12,24,24,24,0,60,102,102,60,102,102,60,0,60,102,102,62,6,102,60,0,0,0,96,96,0,96,96,0,0,0,48,48,0,48,48,96,12,24,48,96,48,24,12,0,0,0,126,0,0,126,0,0,96,48,24,12,24,48,96,0,60,102,102,12,24,0,24,0,62,99,111,111,111,96,62,0,60,102,102,126,102,102,102,0,124,102,102,124,102,102,124,0,60,102,96,96,96,102,60,0,124,102,102,102,102,102,124,0,126,96,96,124,96,96,126,0,126,96,96,124,96,96,96,0,60,102,96,96,110,102,60,0,102,102,102,126,102,102,102,0,120,48,48,48,48,48,120,0,6,6,6,6,102,102,60,0,102,102,108,120,108,102,102,0,96,96,96,96,96,96,126,0,99,119,127,127,107,99,99,0,99,115,123,111,103,99,99,0,28,54,99,99,99,54,28,0,124,102,102,124,96,96,96,0,28,54,99,99,109,54,27,0,124,102,102,124,108,102,102,0,60,102,96,60,6,102,60,0,126,24,24,24,24,24,24,0,102,102,102,102,102,102,60,0,102,102,102,102,102,60,24,0,99,99,99,107,127,119,99,0,99,54,28,28,54,99,99,0,102,102,102,60,24,24,24,0,127,3,6,12,24,48,127,0,0,0,2,4,8,80,32,0,0,66,36,24,24,36,66,0,12,28,60,124,60,28,12,0,24,60,126,24,24,24,24,0,0,0,0,0,0,0,0,127,96,112,120,124,120,112,96,0,0,0,60,6,62,102,62,0,96,96,124,102,102,102,124,0,0,0,60,102,96,102,60,0,6,6,62,102,102,102,62,0,0,0,60,102,126,96,60,0,56,108,96,120,96,96,96,0,0,0,62,102,102,62,6,124,96,96,108,118,102,102,102,0,96,0,96,96,96,96,96,0,6,0,6,6,6,102,102,60,96,96,102,108,120,108,102,0,96,96,96,96,96,96,96,0,0,0,54,127,107,107,99,0,0,0,124,102,102,102,102,0,0,0,60,102,102,102,60,0,0,0,124,102,102,124,96,96,0,0,62,102,102,62,7,6,0,0,60,102,96,96,96,0,0,0,60,96,60,6,124,0,48,48,124,48,48,54,28,0,0,0,102,102,102,102,62,0,0,0,102,102,102,60,24,0,0,0,99,107,107,127,54,0,0,0,99,54,28,54,99,0,0,0,102,102,102,62,6,124,0,0,126,12,24,48,126,0,24,24,24,24,126,60,24,0,0,0,0,24,24,0,0,0,28,34,73,81,73,34,28,0,0,0,0,0,0,0,0,0,127,127,127,127,127,127,127,0]),$A=new Uint8Array([60,102,102,102,102,102,60,0,24,56,24,24,24,24,126,0,60,102,6,60,96,96,126,0,60,102,6,28,6,102,60,0,14,30,54,102,127,6,6,0,126,96,96,124,6,102,60,0,60,102,96,124,102,102,60,0,126,6,6,12,24,24,24,0,60,102,102,60,102,102,60,0,60,102,102,62,6,102,60,0,0,0,0,0,0,0,0,0,0,99,102,12,24,51,99,0,60,102,96,60,6,102,60,0,0,0,60,102,96,102,60,0,0,0,60,102,102,102,60,0,0,0,60,102,96,96,96,0,0,0,60,102,126,96,60,0,96,96,96,96,96,96,126,0,0,0,102,102,102,60,24,0,48,48,48,48,48,48,48,0,24,0,56,24,24,24,60,0,0,0,62,96,60,6,124,0,255,24,24,24,24,24,24,0,0,0,108,254,214,214,198,0,0,13,17,9,5,5,25,0,0,140,80,80,144,16,12,0,0,25,21,21,21,21,25,0,0,208,16,144,16,16,220,0,0,6,9,9,9,9,6,0,0,72,80,96,80,72,72,0,60,66,129,129,129,129,66,60,60,66,153,189,189,153,66,60]),Ae={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9," ":10,"%":11,S:12,c:13,o:14,r:15,e:16,L:17,v:18,l:19,i:20,s:21,T:22,m:23};function ee(A,t,r){const o=A.charCodeAt(0);if(o<32||o>127)return;const n=(o-32)*8;for(let i=0;i<8;i++){const l=jA[n+i];for(let f=0;f<8;f++)l&128>>f&&w(t+f,r+i,1)}}function k(A,t,r){const o=r.toUpperCase();for(let n=0;n<o.length;n++)ee(o[n],(t+n)*8,A*8)}function te(A,t,r){const o=Ae[A];if(o===void 0)return;const n=o*8;for(let i=0;i<8;i++){const l=$A[n+i];for(let f=0;f<8;f++)l&128>>f&&(w(t+f,r+i*2,1),w(t+f,r+i*2+1,1))}}function K(A,t,r){for(let o=0;o<r.length;o++)te(r[o],(t+o)*8,A*8)}function L(A,t){const r=Math.floor((D-t.length)/2);return k(A,r,t),r}const re=[255,195,129,129,129,129,195,255],oe=[0,60,66,66,66,66,60,0],ne=[0,60,114,122,126,126,60,0],ie=[0,60,106,86,106,86,60,0];function W(A,t,r){const o=A*2-3,n=t*2-3;for(let i=0;i<8;i++){const l=re[i],f=r[i];for(let a=0;a<8;a++){const c=7-a;l>>c&1||w(o+a,n+i,f>>c&1)}}}function fe(A,t){const r=A*2,o=t*2;w(r,o,1),w(r+1,o,1),w(r,o+1,1),w(r+1,o+1,1)}const le=[[0,0,0],[0,0,255],[255,0,0],[255,0,255],[0,255,0],[0,255,255],[255,255,0],[255,255,255]],ae=[[0,0,0],[0,0,208],[208,0,0],[208,0,208],[0,208,0],[0,208,208],[208,208,0],[208,208,208]];function fA(){const A=IA(),t=xA(),r=A.data;for(let o=0;o<b;o++){const n=o>>3,i=o*v,l=n*D;for(let f=0;f<v;f++){const a=O[l+(f>>3)],c=a>>6&1,s=a>>3&7,u=a&7,d=c?le:ae,y=G[i+f]?d[u]:d[s],B=i+f<<2;r[B]=y[0],r[B+1]=y[1],r[B+2]=y[2],r[B+3]=255}}t.putImageData(A,0,0)}function se(){for(let A=p;A<=h;A++)for(let t=C;t<=S;t++){const r=e.grid[A][t];if(r===R)continue;const o=t*2,n=A*2,i=vA[r];w(o,n,i[0]>>7-(o&7)&1),w(o+1,n,i[0]>>7-(o+1&7)&1),w(o,n+1,i[1]>>7-(o&7)&1),w(o+1,n+1,i[1]>>7-(o+1&7)&1)}}function ce(){for(const A of e.sparks)A.active&&fe(A.x,A.y);e.trailCursor.active&&W(e.trailCursor.x,e.trailCursor.y,ie);for(const A of e.chasers)A.active&&W(A.x,A.y,ne);e.deathAnimTimer<=0&&W(e.player.x,e.player.y,oe)}function de(){const A=bA().toString().padStart(5,"0"),t=(e.level+1).toString().padStart(2,"0"),r=e.lives.toString(),o="Score "+A+"   Level "+t+"   Lives "+r;K(0,0,o);const n=x(!0,0,5);T(0,n),T(1,n),K(2,0,"Time");const i=40,l=17,f=13,a=e.timer;a>0&&m(i,l,a,f,1);const c=e.percentage.toString().padStart(3,"0")+"%";K(2,28,c);const s=e.timer>=40?x(!0,0,4):x(!0,0,2);for(let u=2;u<=3;u++)I(u,0,5,n),I(u,5,22,s),RA(27,u,n),I(u,28,4,x(!0,0,7))}function ue(){if(e.loadingScrData)JA(e.loadingScrData);else for(let s=0;s<U;s++)T(s,x(!0,0,0));const A=17,t=23;for(let s=A;s<t;s++)T(s,x(!0,0,0)),m(0,s*8,v,8,0);const r="PRESS ENTER TO START",o=x(!0,0,7),n=L(18,r);I(18,n,r.length,o);const i="ARROWS=MOVE  SPACE=FIRE",l="P=PAUSE",f=x(!1,0,5),a=L(20,i);I(20,a,i.length,f);const c=L(22,l);I(22,c,l.length,f)}function Re(){if(G.fill(0),O.fill(0),e.startScreen){ue(),fA();return}const A=AA[e.level&15];for(let r=4;r<U;r++)T(r,A);se(),ce(),de();const t=x(!0,0,VA());if(e.gameOver){for(let d=4;d<U;d++)for(let y=0;y<D;y++){const B=d*D+y;O[B]&=-65}const r=11,o=8,n=16,i=e.gameOverOutOfTime?7:5,l=o*8,f=r*8,a=n*8,c=i*8;m(l,f,a,c,0),m(l,f,a,1,1),m(l,f+c-1,a,1,1),m(l,f,1,c,1),m(l+a-1,f,1,c,1);const s=[112,120,64,72,80,88,96,104];let u;if(e.gameOverFrame<32){const d=Math.floor(e.gameOverFrame/2)&7;u=s[d]}else u=104;for(let d=r;d<r+i;d++)I(d,o,n,u);if(e.gameOverOutOfTime){const d="OUT OF TIME";k(13,Math.floor(o+(n-d.length)/2),d);const y="GAME OVER";k(15,Math.floor(o+(n-y.length)/2),y)}else{const d="GAME OVER";k(13,Math.floor(o+(n-d.length)/2),d)}}if(e.lcAnim.active){for(let B=4;B<U;B++)for(let N=0;N<D;N++)O[B*D+N]&=-65;const r=11,o=7,n=18,i=5,l=o*8,f=r*8,a=n*8,c=i*8;m(l,f,a,c,0),m(l,f,a,1,1),m(l,f+c-1,a,1,1),m(l,f,1,c,1),m(l+a-1,f,1,c,1);const s=[112,120,64,72,80,88,96,104],u=e.lcAnim;let d;u.phase===0&&u.frame<32?d=s[Math.floor(u.frame/2)&7]:d=104;for(let B=r;B<r+i;B++)I(B,o,n,d);const y="SCREEN COMPLETED";k(13,Math.floor(o+(n-y.length)/2),y)}if(e.paused&&!e.gameOver&&!e.lcAnim.active){for(let r=11;r<13;r++)T(r,t);m(0,88,v,16,0),L(11,"PAUSED"),L(12,"P TO RESUME")}fA()}const lA=1e3/PA;let j=0,z=0;function HA(A){const t=A-j;for(j=A,z+=t;z>=lA;)zA(),z-=lA;Re(),requestAnimationFrame(HA)}EA();{const A=atob(SA);e.loadingScrData=new Uint8Array(A.length);for(let t=0;t<A.length;t++)e.loadingScrData[t]=A.charCodeAt(t)}qA();requestAnimationFrame(A=>{j=A,HA(A)});</script>
</head>
<body>
<canvas id="game"></canvas>
<div id="info">
  <b>Arrows</b> = Move &nbsp; <b>Space</b> = Fire (start drawing / slow mode while drawing)<br>
  Claim <b>75%</b> of the field to complete a level. Avoid chasers, sparks, and the trail cursor!
</div>
</body>
</html>
